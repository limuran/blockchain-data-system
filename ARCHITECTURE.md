# ğŸ  æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“Š æ•´ä½“æ¶æ„

```
åŒºå—é“¾æ•°æ®ç³»ç»Ÿ v2.0
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          React å‰ç«¯åº”ç”¨                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘› WalletContext  â”‚ ğŸ“Š TransactionContext â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é’±åŒ…ç®¡ç†       â”‚    äº¤æ˜“è®°å½•          â”‚
â”‚  ENS è§£æ       â”‚    ç»Ÿè®¡ä¿¡æ¯          â”‚
â”‚  ç½‘ç»œåˆ‡æ¢       â”‚    åˆçº¦åœ°å€          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ä¸»ç»„ä»¶å±‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Header  â”‚ MainContent â”‚ Sidebar   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é’±åŒ…ç»„ä»¶ â”‚ åŠŸèƒ½æ ‡ç­¾é¡µ  â”‚ ç»Ÿè®¡é¢æ¿ â”‚
â”‚ ç½‘ç»œæŒ‡ç¤º â”‚ ETHè½¬è´¦    â”‚ APIçŠ¶æ€  â”‚
â”‚         â”‚ ä»£å¸è½¬è´¦    â”‚ æœ€æ–°è®°å½• â”‚
â”‚         â”‚ åˆçº¦å­˜å‚¨    â”‚         â”‚
â”‚         â”‚ æ•°æ®æŸ¥è¯¢    â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ components/             # Reactç»„ä»¶
â”‚   â”œâ”€â”€ Header.js           # å¤´éƒ¨ç»„ä»¶
â”‚   â”œâ”€â”€ MainContent.js      # ä¸»å†…å®¹åŒº
â”‚   â”œâ”€â”€ Sidebar.js          # ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ tabs/               # åŠŸèƒ½æ ‡ç­¾é¡µ
â”‚   â”‚   â”œâ”€â”€ EthTransfer.js  # ETHè½¬è´¦
â”‚   â”‚   â”œâ”€â”€ TokenTransfer.js # ä»£å¸è½¬è´¦
â”‚   â”‚   â”œâ”€â”€ ContractStorage.js # åˆçº¦å­˜å‚¨
â”‚   â”‚   â””â”€â”€ DataQuery.js    # æ•°æ®æŸ¥è¯¢
â”‚   â”œâ”€â”€ wallet/             # é’±åŒ…ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ WalletButton.js # é’±åŒ…æŒ‰é’®
â”‚   â”‚   â””â”€â”€ NetworkIndicator.js # ç½‘ç»œæŒ‡ç¤ºå™¨
â”‚   â”œâ”€â”€ sidebar/            # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ StatsPanel.js   # ç»Ÿè®¡é¢æ¿
â”‚   â”‚   â”œâ”€â”€ ApiStatus.js    # APIçŠ¶æ€
â”‚   â”‚   â””â”€â”€ RecentRecords.js # æœ€æ–°è®°å½•
â”‚   â””â”€â”€ ui/                 # é€šç”¨UIç»„ä»¶
â”‚       â”œâ”€â”€ Toast.js        # æ¶ˆæ¯æç¤º
â”‚       â”œâ”€â”€ Progress.js     # è¿›åº¦æ¡
â”‚       â””â”€â”€ TransactionTable.js # äº¤æ˜“è¡¨æ ¼
â”œâ”€â”€ contexts/               # React Context
â”‚   â”œâ”€â”€ WalletContext.js    # é’±åŒ…çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ TransactionContext.js # äº¤æ˜“çŠ¶æ€ç®¡ç†
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ networks.js         # ç½‘ç»œé…ç½®
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ blockchain.js       # åŒºå—é“¾å·¥å…·
â”‚   â””â”€â”€ constants.js        # å¸¸é‡å®šä¹‰
â”œâ”€â”€ styles/                 # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ index.css          # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ App.css            # åº”ç”¨æ ·å¼
â””â”€â”€ index.js               # å…¥å£æ–‡ä»¶
```

## ğŸ”„ æ•°æ®æµè®¾è®¡

### é’±åŒ…çŠ¶æ€æµ
```
MetaMask è¿æ¥ â†’ WalletContext â†’ æ›´æ–°ä½™é¢ â†’ UIç»„ä»¶åˆ·æ–°
     â†“
ç½‘ç»œåˆ‡æ¢æ£€æµ‹ â†’ æ›´æ–°ç½‘ç»œä¿¡æ¯ â†’ é‡æ–°æŸ¥è¯¢ä»£å¸ä½™é¢
     â†“
ENSè§£æ â†’ è·å–å¤´åƒ â†’ æ›´æ–°æ˜¾ç¤ºåç§°
```

### äº¤æ˜“çŠ¶æ€æµ
```
ç”¨æˆ·æ“ä½œ â†’ éªŒè¯è¾“å…¥ â†’ è°ƒç”¨åŒºå—é“¾ â†’ ç­‰å¾…ç¡®è®¤ â†’ æ›´æ–°è®°å½•
    â†“
æ˜¾ç¤ºè¿›åº¦æ¡ â†’ æ›´æ–°è¿›åº¦ â†’ æˆåŠŸ/å¤±è´¥æç¤º â†’ æ·»åŠ åˆ°è®°å½•åˆ—è¡¨
```

## ğŸ§© ç»„ä»¶è®¾è®¡åŸåˆ™

### 1. å•ä¸€èŒè´£
- æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- é’±åŒ…ç»„ä»¶åªå¤„ç†é’±åŒ…ç›¸å…³é€»è¾‘
- äº¤æ˜“ç»„ä»¶åªå¤„ç†äº¤æ˜“é€»è¾‘

### 2. çŠ¶æ€æå‡
- å…¨å±€çŠ¶æ€é€šè¿‡Contextç®¡ç†
- ç»„ä»¶é—´é€šè¿‡propsä¼ é€’å¿…è¦æ•°æ®
- é¿å…deep prop drilling

### 3. é”™è¯¯è¾¹ç•Œ
- æ¯ä¸ªä¸»è¦ç»„ä»¶éƒ½æœ‰é”™è¯¯å¤„ç†
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- æ—¥å¿—è®°å½•ç”¨äºè°ƒè¯•

## ğŸ”Œ é›†æˆæœåŠ¡

### MetaMask é›†æˆ
```javascript
// ç›‘å¬é’±åŒ…äº‹ä»¶
window.ethereum.on('accountsChanged', handleAccountChange);
window.ethereum.on('chainChanged', handleChainChange);

// è¯·æ±‚è¿æ¥
const accounts = await window.ethereum.request({
  method: 'eth_requestAccounts'
});
```

### Ethers.js é›†æˆ
```javascript
// åˆ›å»ºProvider
const provider = new ethers.BrowserProvider(window.ethereum);
const signer = await provider.getSigner();

// åˆçº¦è°ƒç”¨
const contract = new ethers.Contract(address, abi, signer);
const tx = await contract.storeData(data, dataType);
```

### The Graph é›†æˆ
```javascript
// GraphQLæŸ¥è¯¢
const response = await fetch(graphEndpoint, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ query: graphqlQuery })
});
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. å¤šé“¾æ”¯æŒ
- ç½‘ç»œé…ç½®é›†ä¸­ç®¡ç†
- åŠ¨æ€RPCåˆ‡æ¢
- ä»£å¸åˆçº¦åœ°å€æ˜ å°„

### 2. æ•°æ®ä¸Šé“¾æ–¹å¼

#### æ–¹å¼1: ETHè½¬è´¦æºå¸¦æ•°æ®
```javascript
const tx = await signer.sendTransaction({
  to: targetAddress,
  value: ethers.parseEther(amount),
  data: ethers.hexlify(ethers.toUtf8Bytes(stringData))
});
```

#### æ–¹å¼2: ä»£å¸è½¬è´¦å…³è”æ•°æ®
```javascript
const contract = new ethers.Contract(tokenAddress, erc20Abi, signer);
const tx = await contract.transfer(to, amount);
// æ•°æ®é€šè¿‡äº¤æ˜“å“ˆå¸Œå’Œæ—¶é—´æˆ³å…³è”
```

#### æ–¹å¼3: æ™ºèƒ½åˆçº¦äº‹ä»¶å­˜å‚¨
```javascript
const dataContract = new ethers.Contract(contractAddress, dataStorageAbi, signer);
const tx = await dataContract.storeData(data, dataType);
// è§¦å‘ DataStored äº‹ä»¶
```

### 3. æ•°æ®æŸ¥è¯¢

#### é“¾ä¸Šç›´æ¥æŸ¥è¯¢
```javascript
const tx = await provider.getTransaction(hash);
const receipt = await provider.getTransactionReceipt(hash);
const decodedData = ethers.toUtf8String(tx.data);
```

#### The Graph å­å›¾æŸ¥è¯¢
```graphql
query GetUserData($user: String!) {
  dataStoreds(
    where: { user: $user }
    orderBy: timestamp
    orderDirection: desc
  ) {
    id user data dataType timestamp blockNumber
  }
}
```

## ğŸ›¡ï¸ å®‰å…¨è€ƒè™‘

### 1. è¾“å…¥éªŒè¯
- åœ°å€æ ¼å¼éªŒè¯
- é‡‘é¢èŒƒå›´æ£€æŸ¥
- æ•°æ®é•¿åº¦é™åˆ¶

### 2. é”™è¯¯å¤„ç†
- Try-catchåŒ…è£…æ‰€æœ‰å¼‚æ­¥æ“ä½œ
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯
- æ—¥å¿—è®°å½•ä¾¿äºè°ƒè¯•

### 3. æƒé™æ§åˆ¶
- é’±åŒ…è¿æ¥çŠ¶æ€æ£€æŸ¥
- ç½‘ç»œå…¼å®¹æ€§éªŒè¯
- ä½™é¢å……è¶³æ€§æ£€æŸ¥

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. Reactä¼˜åŒ–
- ä½¿ç”¨React.memoé˜²æ­¢ä¸å¿…è¦é‡æ¸²æŸ“
- useCallbackå’ŒuseMemoä¼˜åŒ–è®¡ç®—
- ç»„ä»¶æ‡’åŠ è½½

### 2. ç½‘ç»œä¼˜åŒ–
- APIè°ƒç”¨é˜²æŠ–
- ç¼“å­˜ENSæŸ¥è¯¢ç»“æœ
- æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–

### 3. æ„å»ºä¼˜åŒ–
- Webpackä»£ç åˆ†å‰²
- CSSæå–å’Œå‹ç¼©
- å›¾ç‰‡èµ„æºä¼˜åŒ–

## ğŸ”® æ‰©å±•æ€§è®¾è®¡

### æ–°å¢ç½‘ç»œæ”¯æŒ
1. åœ¨ `networks.js` æ·»åŠ ç½‘ç»œé…ç½®
2. é…ç½®ä»£å¸åˆçº¦åœ°å€
3. æ›´æ–°åŒºå—æµè§ˆå™¨URL

### æ–°å¢åŠŸèƒ½æ¨¡å—
1. åˆ›å»ºæ–°çš„æ ‡ç­¾é¡µç»„ä»¶
2. åœ¨ `MainContent.js` æ³¨å†Œ
3. æ·»åŠ ç›¸åº”çš„çŠ¶æ€ç®¡ç†

### APIæœåŠ¡æ‰©å±•
1. åœ¨ `utils/` æ·»åŠ APIå°è£…
2. åœ¨ç»„ä»¶ä¸­è°ƒç”¨APIæœåŠ¡
3. æ·»åŠ é”™è¯¯å¤„ç†å’Œé‡è¯•é€»è¾‘

è¿™ä¸ªæ¶æ„è®¾è®¡ç¡®ä¿äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œæ€§èƒ½ä¼˜åŒ–ã€‚